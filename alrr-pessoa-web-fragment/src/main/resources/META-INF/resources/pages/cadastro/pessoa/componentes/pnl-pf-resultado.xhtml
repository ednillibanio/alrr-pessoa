<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:al="http://xmlns.jcp.org/jsf/composite/components/commons"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:ph="http://xmlns.jcp.org/jsf/passthrough">


	<!-- RESULTADO DA PESQUISA -->
	<p:dataTable id="result" value="#{pessoaFisicaController.dataModel}"
		selection="#{pessoaFisicaController.entity}" var="pf" paginator="true"
		rows="15" rowsPerPageTemplate="9,15,30" selectionMode="single"
		emptyMessage="Nenhum registro encontrado" reflow="true"
		paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {RowsPerPageDropdown} {NextPageLink} {LastPageLink}  {Exporters} "
		draggableColumns="true" paginatorPosition="top"
		paginatorAlwaysVisible="true" styleClass="pnl-resultado">

		<!-- TITULO DATATABLE -->
		<f:facet name="header">
			<h:outputLabel value="Resultado" />
		</f:facet>

		<!-- <f:facet name="{Exporters}">

			<div style="float: right !important">
				<p:commandLink ajax="false">
					<p:graphicImage library="img" name="excel.png" width="32" />
					<p:dataExporter type="xls" target="result" fileName="pfs" />
				</p:commandLink>
				<p:commandLink ajax="false">
					<p:graphicImage library="img" name="pdf.png" width="32" />
					<p:dataExporter type=" pdf" target="result" fileName="pfs" />
				</p:commandLink>
				<p:commandLink ajax="false">
					<p:graphicImage library="img" name="csv.png" width="32" />
					<p:dataExporter type="csv" target="result" fileName="pfs" />
				</p:commandLink>
			</div>


		</f:facet> -->

		<p:ajax event="contextMenu" update=":frm-pf-pesquisar:result" />



		<!--  C O L U N A:  N O M E  -->
		<p:column id="nome" sortBy="#{pf.nome}" width="30%">
			<f:facet name="header">
				<h:outputText value="Nome" />
			</f:facet>
			<h:outputText value="#{pf.nome}" />
		</p:column>


		<!--  C O L U N A:  C P F  -->
		<p:column id="cpf" sortBy="#{pf.cpf}" width="20%">
			<f:facet name="header">
				<h:outputText value="CPF" />
			</f:facet>
			<h:outputText value="#{pf.cpf}" />
		</p:column>



		<!--  C O L U N A:  E S T A D O   C I V I L  -->
		<p:column sortBy="#{pf.estadoCivil}" id="estado-civil" width="20%">
			<f:facet name="header">
				<h:outputText value="Estado Civil" />
			</f:facet>
			<h:outputText value="#{pf.estadoCivil.label}" />
		</p:column>


		<!--  C O L U N A:  S E X O  -->
		<p:column sortBy="#{pf.sexo}" id="sexo" width="10%">
			<f:facet name="header">
				<h:outputText value="Sexo" />
			</f:facet>
			<h:outputText value="#{pf.sexo.label}" />
		</p:column>


		<!--  C O L U N A:   T E L E F O N E S  -->
		<p:column id="tels" width="20%" headerText="Telefones">

			<ui:repeat var="tel" value="#{pf.telefones.toArray()}" varStatus="i">
				<h:outputText value="#{tel}" converter="#{telefoneConverter}" />  #{i.last==true ? "" : " / "}				
			</ui:repeat>

		</p:column>

	</p:dataTable>

	<!-- ContextMenu deve sempre vir depois do datable para funcionar a seleção pelo botão direito do mouse. -->
	<p:contextMenu for="result">

		<!-- ********* BOTAO DETALHES ********* -->
		<!-- <p:menuitem value="Detalhes"
				action="#{pfController.detalhes()}"
				update=":frm-pf-detalhes :frm-pf-detalhes:pnl-detalhes">
			</p:menuitem> -->


		<!--  B O T Ã O:  E D I T A R  -->
		<p:menuitem value="Editar" action="#{pessoaFisicaController.editar()}" />

	</p:contextMenu>


</ui:composition>
